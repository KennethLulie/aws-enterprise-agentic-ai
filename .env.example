# =============================================================================
# Enterprise Agentic AI - Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in your actual values:
#   cp .env.example .env
#
# SECURITY: Never commit your .env file! It is gitignored for your protection.
# See docs/SECURITY.md for complete secrets management guide.
# =============================================================================

# =============================================================================
# Environment Configuration
# =============================================================================
# Environment: "local" for development, "aws" for production
ENVIRONMENT=local

# Debug mode (set to false in production)
DEBUG=true

# =============================================================================
# AWS Configuration
# =============================================================================
# AWS Region - ALWAYS use us-east-1 unless explicitly stated otherwise
AWS_REGION=us-east-1

# AWS Credentials (for local development)
# Get from: AWS Console -> IAM -> Users -> Security credentials
# In production, use IAM roles instead of access keys
AWS_ACCESS_KEY_ID=your-access-key-id-here
AWS_SECRET_ACCESS_KEY=your-secret-access-key-here

# =============================================================================
# AWS Bedrock Configuration
# =============================================================================
# Primary model for chat
BEDROCK_MODEL_ID=amazon.nova-pro-v1:0

# Fallback model if primary unavailable
BEDROCK_FALLBACK_MODEL_ID=anthropic.claude-3-5-sonnet-20240620-v1:0

# Embedding model for RAG
BEDROCK_EMBEDDING_MODEL_ID=amazon.titan-embed-text-v1

# Verification model (smaller, cheaper)
BEDROCK_VERIFICATION_MODEL_ID=amazon.nova-lite-v1:0

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string
# Local: Uses Docker Compose postgres service
# AWS: Neon PostgreSQL endpoint (external serverless PostgreSQL)
DATABASE_URL=postgresql://demo:demo@postgres:5432/demo

# Database credentials (used by docker-compose for postgres service)
POSTGRES_DB=demo
POSTGRES_USER=demo
POSTGRES_PASSWORD=demo

# =============================================================================
# Vector Store Configuration
# =============================================================================
# Vector store type: "pinecone" or "chroma"
VECTOR_STORE_TYPE=chroma

# Pinecone Configuration (for production or if using Pinecone locally)
# Get from: https://pinecone.io -> Dashboard -> API Keys
PINECONE_API_KEY=your-pinecone-api-key-here
PINECONE_INDEX_NAME=demo-index
PINECONE_ENVIRONMENT=us-east-1

# ChromaDB Configuration (for local development)
CHROMA_URL=http://chroma:8000

# =============================================================================
# External API Keys
# =============================================================================
# Tavily Search API
# Get from: https://tavily.com -> Dashboard
# Free tier: 1,000 searches/month
TAVILY_API_KEY=tvly-your-api-key-here

# Financial Modeling Prep (FMP) - Market Data
# Get from: https://financialmodelingprep.com -> Dashboard (no credit card)
# Free tier: ~250 calls/day
FMP_API_KEY=your-fmp-api-key-here
# Optional override for API host (keep default unless testing a mock server)
FMP_BASE_URL=https://financialmodelingprep.com/api/v3
FMP_TIMEOUT_SECONDS=10.0

# =============================================================================
# Authentication
# =============================================================================
# Demo password for the web interface
# In production, this is stored in AWS Secrets Manager
DEMO_PASSWORD=change-this-password

# =============================================================================
# Application Configuration
# =============================================================================
# Backend server configuration
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

# Frontend configuration
NEXT_PUBLIC_API_URL=http://localhost:8000

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# Rate Limiting
# =============================================================================
# Requests per minute per IP
RATE_LIMIT_PER_MINUTE=10

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# Cache Configuration (Phase 4+)
# =============================================================================
# DynamoDB table name for inference cache
CACHE_TABLE_NAME=inference-cache

# Cache TTL in seconds (default: 7 days)
CACHE_TTL_SECONDS=604800

# Similarity threshold for cache hits (0.0-1.0)
CACHE_SIMILARITY_THRESHOLD=0.95

# =============================================================================
# Knowledge Graph Configuration (Phase 2+)
# =============================================================================
# Neo4j connection (for production, use Neo4j AuraDB Free)
# Local: Uses Docker Compose neo4j service
# AuraDB: Get connection details from https://console.neo4j.io
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=demo_password

# Knowledge graph store type: "neo4j" or "postgresql"
# PostgreSQL uses recursive CTEs as fallback
KG_STORE_TYPE=neo4j


# Demo password for login page (frontend login -> POST /api/login)
DEMO_PASSWORD=change-this-password

# Auth token signing secret (used to sign session cookie)
AUTH_TOKEN_SECRET=change-this-secret

# Session token expiration in minutes (default 1440 = 24h)
AUTH_TOKEN_EXPIRES_MINUTES=1440

# Cookie name for session token
AUTH_COOKIE_NAME=session_token
